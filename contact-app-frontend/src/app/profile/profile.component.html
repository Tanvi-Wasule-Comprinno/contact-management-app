<app-navbar></app-navbar>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-5">

      <div class="card shadow-lg border-0">
        <div class="card-body p-4">

          <h4 class="fw-bold mb-3 text-center">
             My Profile
          </h4>

          <!-- View Mode -->
          <div *ngIf="!editMode" class="profile-view">
            <div class="mb-3">
              <label class="fw-bold text-muted">Name</label>
              <p class="profile-value">{{ user.name }}</p>
            </div>

            <div class="mb-3">
              <label class="fw-bold text-muted">Email</label>
              <p class="profile-value">{{ user.email }}</p>
            </div>

            <button class="btn btn-primary w-100"
                    (click)="toggleEditMode()">
               Update Profile
            </button>
          </div>

          <!-- Edit Mode -->
          <div *ngIf="editMode" class="profile-edit">
            <div class="mb-3">
              <label>Name</label>
              <input class="form-control"
                     [(ngModel)]="user.name"
                     required>
            </div>

            <div class="mb-3">
              <label>Email</label>
              <input class="form-control"
                     [(ngModel)]="user.email"
                     disabled>
            </div>

            <div class="mb-3">
              <label>New Password</label>
              <input class="form-control"
                     type="password"
                     placeholder="Leave blank if unchanged"
                     [(ngModel)]="user.password">
            </div>

            <div class="d-flex gap-2">
              <button class="btn btn-success flex-grow-1"
                      (click)="updateProfile()">
                 Save Changes
              </button>
              <button class="btn btn-secondary flex-grow-1"
                      (click)="cancelEdit()">
                âœ• Cancel
              </button>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>
